<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/polymerfire/firebase-app.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="../messenger-elements/messenger-login.html">
<link rel="import" href="../messenger-elements/messenger-home.html">

<dom-module id="messenger-app">
  <template>
    <firebase-app
        auth-domain="messenger-ecf31.firebaseapp.com"
        database-url="https://messenger-ecf31.firebaseio.com"
        api-key="AIzaSyBuLgkuGVwr8Cajfkb7iplcLzbXDbUGMqU"
    >
    </firebase-app>
    <style include="iron-flex iron-flex-alignment">
      :host {
        display: block;
      }
      messenger-login {
        background-color: #EEE;
        padding: 1em;
        width: 100%;
      }
      #contenedor {
        height: 100vh;
        width: 100%;
        max-width: 400px;
      }
    </style>
    <div id="contenedor" class="layout horizontal">
      <messenger-login user="{{user}}"></messenger-login>
      <messenger-home></messenger-home>
    </div>
  </template>

  <script>
    Polymer({

      is: 'messenger-app',

      properties: {
        user: {
          type: Object,
          observer: "_userChanged"
        }
      },
      
      _userChanged: function () {
        console.log(this.user)
      }
    });
  </script>
</dom-module>
